<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!--
            Ubicación Intermedia para todas las devoluciones.
            CORRECCIÓN: Se usa 'stock.stock_location_stock' como la ubicación padre,
            que es el ID correcto para la ubicación principal del almacén por defecto.
        -->
        <record id="stock_location_returns_main" model="stock.location">
            <field name="name">Devoluciones</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock.stock_location_stock"/>
        </record>

        <!--
            Ubicación para productos que van a Garantía / Revisión.
            CORRECCIÓN: Se usa 'stock.stock_location_stock' como la ubicación padre.
        -->
        <record id="stock_location_warranty" model="stock.location">
            <field name="name">Garantía / Revisión</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock.stock_location_stock"/>
        </record>

        <!-- Tipo de Operación para Devoluciones de Clientes -->
        <record id="picking_type_returns" model="stock.picking.type">
            <field name="name">Devoluciones de Clientes</field>
            <field name="code">incoming</field>
            <field name="warehouse_id" ref="stock.warehouse0"/>
            <field name="sequence_id" ref="stock.seq_picking_in"/>
            <field name="default_location_src_id" ref="stock.stock_location_customers"/>
            <field name="default_location_dest_id" ref="gestion_devoluciones.stock_location_returns_main"/>
            <field name="return_picking_type_id" ref="stock.picking_type_out"/>
        </record>
    </data>
</odoo>